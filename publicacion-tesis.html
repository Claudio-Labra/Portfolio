<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tesis de Maestría – Claudio Labra</title>

<style>
body{
    margin:0;
    background:white;
    overflow:hidden;
    font-family:sans-serif;
}

/* Viewer */

.viewer{
    width:100vw;
    height:100vh;
    overflow:hidden;
    position:relative;
}

.track{
    display:flex;
    height:100vh;
    transition: transform 0.7s cubic-bezier(.77,0,.18,1);
}

.slide{
    min-width:100vw;
    height:100vh;
    display:flex;
    align-items:center;
    justify-content:center;
    opacity:0;
    transition:opacity 0.6s ease;
}

.slide.active{
    opacity:1;
}

.slide img{
    width:100vw;
    height:auto;
    max-height:100vh;
    object-fit:cover
}

/* Back button */

.back{
    position:fixed;
    top:20px;
    left:20px;
    z-index:1000;
    background:white;
    padding:10px 18px;
    border-radius:30px;
    text-decoration:none;
    color:black;
    font-weight:600;
    box-shadow:0 4px 15px rgba(0,0,0,0.3);
}

/* Minimal arrows */

.arrow{
    position:fixed;
    top:50%;
    transform:translateY(-50%);
    z-index:1000;
    width:60px;
    height:60px;
    border-radius:50%;
    background:rgba(255,255,255,0.85);
    display:flex;
    align-items:center;
    justify-content:center;
    font-size:28px;
    color:black;
    cursor:pointer;
    box-shadow:0 8px 25px rgba(0,0,0,0.15);
    transition:0.3s ease;
}

.arrow:hover{
    background:white;
    transform:translateY(-50%) scale(1.1);
}

.arrow.hidden{
    opacity:0;
    pointer-events:none;
}

.arrow.right{ right:40px; }
.arrow.left{ left:40px; }

/* Slide counter */

.counter{
    position:fixed;
    bottom:30px;
    right:40px;
    color:white;
    font-size:14px;
    letter-spacing:1px;
    opacity:0.6;
}

</style>
</head>

<body>

<a class="back" href="index.html">← Volver</a>

<div class="arrow left" id="prev">←</div>
<div class="arrow right" id="next">→</div>

<div class="counter" id="counter"></div>

<div class="viewer">
    <div class="track" id="track"></div>
</div>

<script>
const totalSlides = 25;
let currentIndex = 0;

const track = document.getElementById('track');
const nextBtn = document.getElementById('next');
const prevBtn = document.getElementById('prev');
const counter = document.getElementById('counter');

// Crear slides
for(let i=1; i<=totalSlides; i++){
    const num = String(i).padStart(2,'0');
    const div = document.createElement('div');
    div.className = 'slide';
    div.innerHTML = `<img src="tesis/img/slide-${num}.jpg">`;
    track.appendChild(div);
}

const slides = document.querySelectorAll('.slide');

function updateSlide(){
    const moveX = currentIndex * window.innerWidth;
    track.style.transform = `translateX(-${moveX}px)`;

    slides.forEach(slide => slide.classList.remove('active'));
    slides[currentIndex].classList.add('active');

    counter.innerText = `${currentIndex + 1} / ${totalSlides}`;

    // Ocultar flechas según posición
    prevBtn.classList.toggle('hidden', currentIndex === 0);
    nextBtn.classList.toggle('hidden', currentIndex === totalSlides - 1);
}

function nextSlide(){
    if(currentIndex < totalSlides - 1){
        currentIndex++;
        updateSlide();
    }
}

function prevSlide(){
    if(currentIndex > 0){
        currentIndex--;
        updateSlide();
    }
}

// Click flechas
nextBtn.addEventListener('click', nextSlide);
prevBtn.addEventListener('click', prevSlide);

// Teclado
document.addEventListener('keydown', e => {
    if(e.key === "ArrowRight") nextSlide();
    if(e.key === "ArrowLeft") prevSlide();
});

// Swipe móvil
let startX = 0;

document.addEventListener('touchstart', e => {
    startX = e.touches[0].clientX;
});

document.addEventListener('touchend', e => {
    let endX = e.changedTouches[0].clientX;
    let diff = startX - endX;

    if(Math.abs(diff) > 50){
        if(diff > 0) nextSlide();
        else prevSlide();
    }
});

// Ajuste en resize
window.addEventListener('resize', updateSlide);

// Inicializar
updateSlide();

</script>

</body>
</html>
